<!DOCTYPE html>
<html>
<head>
  <title>Simple Sanitization Test</title>
  <style>
    body { font-family: monospace; padding: 20px; background: #1e1e1e; color: #4ec9b0; }
    .pass { color: #4ec9b0; }
    .fail { color: #f48771; }
    .section { margin: 20px 0; padding: 15px; background: #252526; border-left: 3px solid #569cd6; }
  </style>
</head>
<body>
  <h1>üß™ Sanitization Framework Test</h1>
  <div id="status"></div>
  <div id="results"></div>

  <script src="../sanitization.js"></script>
  <script>
    const status = document.getElementById('status');
    const results = document.getElementById('results');

    // Check if functions are loaded
    const functions = [
      'sanitizeBSN', 'sanitizeIBAN', 'sanitizePhone', 'sanitizeEmail',
      'sanitizeInitials', 'sanitizeLastName', 'sanitizeStreet', 'sanitizeHouseNumber',
      'sanitizePostalCode', 'sanitizeCity', 'sanitizeGender', 'sanitizeGasUsage',
      'sanitizeMeldCode', 'sanitizeInstallationDate', 'sanitizePurchaseDate'
    ];

    let loaded = 0;
    let missing = [];

    functions.forEach(fn => {
      if (typeof window[fn] === 'function') {
        loaded++;
      } else {
        missing.push(fn);
      }
    });

    status.innerHTML = `
      <div class="section">
        <h2>Status: ${loaded}/15 functions loaded</h2>
        ${missing.length > 0 ? `<p class="fail">Missing: ${missing.join(', ')}</p>` : '<p class="pass">‚úÖ All functions loaded!</p>'}
      </div>
    `;

    // Quick tests
    if (loaded === 15) {
      const tests = [
        { name: 'BSN', fn: sanitizeBSN, input: '123456782', expected: '123456782' },
        { name: 'IBAN', fn: sanitizeIBAN, input: 'NL91ABNA0417164300', expected: 'NL91ABNA0417164300' },
        { name: 'Phone', fn: sanitizePhone, input: '0612345678', expected: '0612345678' },
        { name: 'Email', fn: sanitizeEmail, input: 'test@example.com', expected: 'test@example.com' },
        { name: 'Postcode', fn: sanitizePostalCode, input: '1234AB', expected: '1234 AB' },
        { name: 'Meldcode', fn: sanitizeMeldCode, input: 'KA12345', expected: 'KA12345' },
      ];

      let html = '<div class="section"><h2>Quick Tests:</h2>';
      tests.forEach(test => {
        const result = test.fn(test.input);
        const pass = result === test.expected;
        html += `<div class="${pass ? 'pass' : 'fail'}">
          ${pass ? '‚úÖ' : '‚ùå'} ${test.name}: ${test.input} ‚Üí ${result} ${pass ? '' : `(expected: ${test.expected})`}
        </div>`;
      });
      html += '</div>';
      results.innerHTML = html;
    }
  </script>
</body>
</html>
